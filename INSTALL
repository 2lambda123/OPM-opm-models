Installation Instructions
=========================

This file describes how to compile and install eWoms. eWoms is
implemented as an DUNE module within the umbrella of the Open Porous
Media (OPM) project. As such, it uses the CMake based OPM build
system.

Getting started
---------------

In order to compile eWoms, you first have to install the following
DUNE modules so that DUNE's 'dunecontrol' finds them:
 
  - dune-common        from [0]
  - dune-geometry      from [0]
  - dune-grid          from [0]
  - dune-istl          from [0]
  - dune-localfuctions from [0]

If you are using Ubuntu 12.10 or newer (or Debian Wheezy or newer), you
may install these modules using the standard Debian package management
tools:

    sudo apt-get install libdune-grid-dev libdune-istl-dev libdune-localfunctions-dev 

On Ubuntu, make sure that you have the 'Universe' package repositories
enabled.  Besides the Debian based distributions, DUNE packages for
openSUSE (>= 12.2) are also available. These can be installed using the
following commands:

   sudo zypper ar http://download.opensuse.org/repositories/science/openSUSE_12.2
   sudo zypper ref
   sudo zypper in dune-grid-devel dune-localfunctions-devel dune-istl-devel

If you use a different Linux distribution or want to live on the
bleeding edge, you need to download the sources directly from the
website of the DUNE project. For this, follow the instructions at
[0]. For eWoms, you currently need either the 2.2 release of DUNE or
the latest 2.3 trunk version.

With option files you can enable options, set compiler flags and
define paths to external libraries. Exemplary option files are located
in $EWOMS_ROOT/optim.opts and $EWOMS_ROOT/debug.opts respectively.
($EWOMS_ROOT is the directory where the unpacked files of the eWoms
package are located.)

After you've obtained DUNE, compile eWoms using

  $PATH_TO_DUNECONTROL/dunecontrol --opts=$(EWOMS_ROOT)/optim.opts --module=ewoms all
  cd $EWOMS_ROOT
  # the lines below are only required if you want to compile the
  # example applications
  cmake -DBUILD_TESTING=ON
  make

If you want to build the examples, instead of the last two lines, you
can also add the '--enable-testing' parameter to CONFIGURE_FLAGS in
the options file.

Testing
-------

eWoms uses CTest for regression testing [1]. We encourage you to
participate - it's easy: If you set up an build directory for eWoms
with the examples enabled as described above, just run

   ctest -D Experimental

After a while, your results should appear on the eWoms CDash 
dashboard [2].

Links
-----

[0] http://www.dune-project.org/download.html
[1] http://cmake.org/Wiki/CMake/Testing_With_CTest
[2] http://opm-project.org/CDash/index.php?project=eWoms

